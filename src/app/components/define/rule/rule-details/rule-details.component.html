<form
  [formGroup]="form"
  clrForm
  (ngSubmit)="onSubmit()"
  class="clr-form-horizontal"
>
  <div class="clr-col-12"><label>Businessrule details</label></div>

  <div class="clr-col-12">
    <clr-select-container>
      <label for="btyp">Businessrule type</label>
      <select
        id="btyp"
        clrSelect
        name="ruletype"
        (change)="onSelectChange()"
        [(ngModel)]="ruletype"
        [ngModelOptions]="{ standalone: true }"
        required
      >
        <option *ngFor="let brtype of ruletypes" [value]="brtype.id">{{
          brtype.name
        }}</option>
      </select>
    </clr-select-container>
  </div>
  <div>
      <div class="clr-col-12">
          <clr-input-container>
            <label>Name</label>
            <input
              type="text"
              clrInput
              class="form-control"
              formControlName="name"
            />
          </clr-input-container>
        </div>

    <div class="clr-col-12">
      <clr-select-container>
        <label>Constraint </label>
        <select clrSelect name="options" formControlName="constraint" required>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </clr-select-container>
    </div>

    <div class="clr-col-12">
      <clr-select-container>
        <label>Operator </label>
        <select clrSelect name="options" formControlName="operator" required>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </clr-select-container>
    </div>



    <div class="clr-col-12">
        <clr-input-container>
          <label>Table</label>
          <input
            type="text"
            clrInput
            class="form-control"
            formControlName="table"
          />
        </clr-input-container>
      </div>

    <div class="clr-col-12">
      <clr-select-container>
        <label>Insert </label>
        <select clrSelect name="options" formControlName="insert" required>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </clr-select-container>
    </div>
    <div class="clr-col-12">
      <clr-select-container>
        <label>Update </label>
        <select clrSelect name="options" formControlName="update" required>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </clr-select-container>
    </div>
    <div class="clr-col-12">
      <clr-select-container>
        <label>Delete </label>
        <select clrSelect name="options" formControlName="delete" required>
          <option value="true">true</option>
          <option value="false">false</option>
        </select>
      </clr-select-container>
    </div>

    <div class="clr-col-12">
        <clr-input-container>
          <label>Error message</label>
          <input
            type="text"
            clrInput
            class="form-control"
            formControlName="error"
          />
        </clr-input-container>
      </div>
      <div formArrayName="bindings">
          <div class="clr-col-12"><label>Businessrule details</label></div>
          <div *ngFor="let binding of bindings.controls; let i = index">
            <div class="clr-col-12">
              <clr-input-container>
                <label>{{ bindingLabels[i] }}</label>
                <input
                  type="text"
                  clrInput
                  class="form-control"
                  formControlName="{{ i }}"
                />
              </clr-input-container>
            </div>
          </div>
        </div>
    <button type="submit" class="btn btn-primary">Edit</button>
  </div>
</form>
